<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°ä¸€è€ƒæŸ¥äºŒå¤ä¹ æœº</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f0f9ff;
            color: #333;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .animate-bounce {
            animation: bounce 1s infinite;
        }
        
        /* ä¸»é¡µæ ·å¼ */
        .home-page {
            min-height: 100vh;
            background: linear-gradient(to bottom, #f0f9ff, white);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
        }
        .header {
            text-align: center;
            margin: 40px 0 60px 0;
        }
        .header h1 {
            font-size: 48px;
            color: #2563eb;
            margin-bottom: 20px;
            font-weight: 900;
        }
        .header p {
            font-size: 24px;
            color: #3b82f6;
            font-weight: 500;
        }
        .units-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 32px;
            width: 100%;
            margin-bottom: 60px;
        }
        .unit-card {
            background: white;
            border-radius: 24px;
            padding: 40px;
            box-shadow: 0 20px 25px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 8px solid #e5e7eb;
            text-align: left;
            border: none;
            font-family: inherit;
        }
        .unit-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 35px rgba(0, 0, 0, 0.15);
        }
        .unit-icon {
            font-size: 56px;
            margin-bottom: 20px;
            display: block;
        }
        .unit-title {
            font-size: 24px;
            font-weight: 900;
            color: #1f2937;
            margin-bottom: 8px;
            text-align: left;
        }
        .unit-subtitle {
            font-size: 16px;
            color: #9ca3af;
            font-weight: bold;
            margin-bottom: 32px;
            text-align: left;
        }
        .unit-action {
            color: #3b82f6;
            font-weight: 900;
            text-align: left;
        }
        
        .hearts-container {
            margin-top: auto;
            display: flex;
            gap: 24px;
            padding: 40px 20px;
            justify-content: center;
        }
        .heart {
            font-size: 32px;
            animation: bounce 1s infinite;
        }
        .heart:nth-child(2) {
            animation-delay: 0.2s;
        }
        .heart:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        /* æµ‹è¯•é¡µé¢æ ·å¼ */
        .quiz-page {
            min-height: 100vh;
            background: #eff6ff;
            padding: 24px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 800px;
            margin-bottom: 32px;
            gap: 16px;
        }
        .back-btn {
            background: white;
            border: none;
            padding: 12px;
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            font-size: 20px;
            color: #9ca3af;
            transition: color 0.2s;
        }
        .back-btn:hover {
            color: #3b82f6;
        }
        .status-info {
            background: white;
            padding: 12px 24px;
            border-radius: 32px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 24px;
            border-bottom: 4px solid #dbeafe;
            font-weight: 900;
            flex: 1;
        }
        .status-tag {
            color: #2563eb;
        }
        .status-divider {
            width: 1px;
            height: 24px;
            background: #e5e7eb;
        }
        .status-score {
            color: #eab308;
        }
        .status-counter {
            color: #9ca3af;
            font-weight: 900;
            margin-left: auto;
        }
        
        .progress-bar {
            width: 100%;
            max-width: 800px;
            height: 20px;
            background: white;
            border-radius: 32px;
            overflow: hidden;
            padding: 4px;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 40px;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, #60a5fa, #818cf8);
            border-radius: 32px;
            transition: width 0.7s ease-out;
        }
        
        .question-card {
            background: white;
            border-radius: 32px;
            box-shadow: 0 20px 25px rgba(0, 0, 0, 0.1);
            padding: 40px;
            max-width: 800px;
            width: 100%;
            margin-bottom: 40px;
            border-bottom: 12px solid #dbeafe;
            position: relative;
        }
        .question-tag {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #3b82f6;
            color: white;
            padding: 8px 16px;
            border-radius: 32px;
            font-weight: 900;
            font-size: 12px;
            letter-spacing: 1px;
        }
        .question-text {
            font-size: 32px;
            font-weight: 900;
            color: #1f2937;
            text-align: center;
            margin-bottom: 32px;
            line-height: 1.5;
        }
        
        .options-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
            margin-bottom: 32px;
        }
        .option-btn {
            padding: 24px;
            border-radius: 20px;
            text-align: left;
            font-size: 20px;
            font-weight: 900;
            border: 4px solid #f3f4f6;
            background: #f3f4f6;
            color: #374151;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-family: inherit;
        }
        .option-btn:hover:not(:disabled) {
            border-color: #93c5fd;
            background: #eff6ff;       }
        .option-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }
        .option-btn.correct {
            border-color: #4ade80;
            background: #f0fdf4;
            color: #15803d;
        }
        .option-btn.incorrect {
            border-color: #f87171;
            background: #fef2f2;
            color: #b91c1c;
        }
        .option-letter {
            display: inline-flex;
            width: 40px;
            height: 40px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.5);
            align-items: center;
            justify-content: center;
            font-size: 12px;
            margin-right: 16px;
            flex-shrink: 0;
        }
        .option-btn.selected .option-letter {
            background: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .feedback {
            padding: 24px;
            border-radius: 20px;
            margin-bottom: 20px;
        }
        .feedback.correct {
            background: #dbeafe;
            color: #1e40af;
        }
        .feedback.incorrect {
            background: #fee2e2;
            color: #991b1b;
        }
        .feedback-title {
            font-weight: 900;
            font-size: 18px;
            margin-bottom: 8px;
        }
        .feedback-text {
            font-size: 16px;
            font-weight: bold;
            opacity: 0.8;
        }
        
        .bottom-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 800px;
            gap: 16px;
        }
        .hint-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            background: white;
            border: 4px solid #dbeafe;
            padding: 16px 20px;
            border-radius: 16px;
            font-weight: 900;
            color: #3b82f6;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }
        .hint-btn:hover {
            background: #eff6ff;
        }
        .hint-btn.active {
            border-color: #fde047;
            color: #ca8a04;
        }
        
        .next-btn {
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            padding: 16px 32px;
            border-radius: 16px;
            border: 4px solid #f97316;
            background: #f97316;
            color: white;
            font-weight: 900;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }
        .next-btn:hover:not(:disabled) {
            background: #ea580c;
        }
        .next-btn:disabled {
            background: #d1d5db;
            border-color: #d1d5db;
            color: #9ca3af;
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        /* ç»“æœé¡µé¢ */
        .result-page {
            min-height: 100vh;
            background: #fdf2f8;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .result-card {
            background: white;
            border-radius: 32px;
            box-shadow: 0 20px 25px rgba(0, 0, 0, 0.15);
            padding: 40px;
            max-width: 400px;
            width: 100%;
            text-align: center;
            border-bottom: 4px solid #fbcfe8;
        }
        .trophy {
            font-size: 56px;
            margin-bottom: 20px;
            animation: bounce 1s infinite;
        }
        .result-title {
            font-size: 32px;
            font-weight: 900;
            color: #1f2937;
            margin-bottom: 8px;
        }
        .result-unit {
            font-size: 18px;
            color: #ec4899;
            font-weight: bold;
            margin-bottom: 40px;
        }
        .score-box {
            background: linear-gradient(to bottom right, #fdf2f8, white);
            border-radius: 20px;
            padding: 32px;
            margin-bottom: 40px;
            border: 2px solid #fbcfe8;
        }
        .score-label {
            color: #9ca3af;
            font-weight: bold;
            margin-bottom: 8px;
        }
        .score-value {
            font-size: 56px;
            font-weight: 900;
            color: #ec4899;
        }
        .score-total {
            font-size: 24px;
            color: #f472b6;
        }
        
        .result-buttons {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        .result-btn {
            padding: 16px;
            border-radius: 16px;
            border: none;
            font-weight: 900;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.2s;
            font-family: inherit;
        }
        .result-btn.retry {
            background: #f97316;
            color: white;
        }
        .result-btn.retry:hover {
            background: #ea580c;
        }
        .result-btn.home {
            background: white;
            border: 4px solid #e5e7eb;
            color: #9ca3af;
        }
        .result-btn.home:hover {
            background: #f9fafb;
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <script>
        const units = [
            { id: "u3", title: "ç¬¬ä¸ƒè¯¾", subtitle: "å¼€å¿ƒåŠ¨ç‰©å›­", icon: "ğŸ¦" },
            { id: "u4", title: "å•å…ƒå››", subtitle: "æ¸©é¦¨çš„å®¶", icon: "ğŸ " },
            { id: "u5", title: "å•å…ƒäº”", subtitle: "ä¸­ç§‹èŠ‚", icon: "ğŸ¥®" },
            { id: "u6", title: "å•å…ƒå…­", subtitle: "èƒ†å°çš„çˆ¸çˆ¸", icon: "ğŸ‘¨â€ğŸ‘§" },
            { id: "u7", title: "å•å…ƒä¸ƒ", subtitle: "ç¾ä¸½çš„åœ£è¯å¡", icon: "ğŸ„" }
        ];

        const allQuizData = [
            { unitId: "u3", tag: "ç¬¬ä¸ƒè¯¾", q: "è‰åœ°ä¸Šæœ‰ä¸€ï¼ˆ  ï¼‰å°ç¾Šã€‚", options: ["å¤´", "åª", "æŠŠ", "ä¸ª"], a: 1, hint: "å°åŠ¨ç‰©å¸¸ç”¨é‡è¯ã€‚", r: "ä¸€åªå°ç¾Šã€‚" },
            { unitId: "u3", tag: "ç¬¬ä¸ƒè¯¾", q: "å°é¸Ÿåœ¨æ ‘ä¸Šï¼ˆ  ï¼‰ã€‚", options: ["è·³èˆ", "å†™å­—", "å”±æ­Œ", "å¼€é—¨"], a: 2, hint: "å½¢å®¹æ‚¦è€³çš„å£°éŸ³ã€‚", r: "å°é¸Ÿå”±æ­Œã€‚" },
            { unitId: "u3", tag: "ç¬¬ä¸ƒè¯¾", q: "å°ç¾Šåœ¨åœ°ä¸Šï¼ˆ  ï¼‰ã€‚", options: ["å”±æ­Œ", "è·³èˆ", "ç”»ç”»", "çœ‹ä¹¦"], a: 1, hint: "è¯¾æ–‡ä¸­çš„åŠ¨ä½œã€‚", r: "å°ç¾Šè·³èˆã€‚" },
            { unitId: "u3", tag: "ç¬¬ä¸ƒè¯¾", q: "é©¬ã€ç‰›å’Œç¾Šéƒ½æ˜¯ï¼ˆ  ï¼‰ã€‚", options: ["æœ‹å‹", "å®¶äºº", "åŠ¨ç‰©", "èŠ±ç¯"], a: 2, r: "å®ƒä»¬æ˜¯åŠ¨ç‰©ã€‚" },
            { unitId: "u3", tag: "ç¬¬ä¸ƒè¯¾", q: "é€‰å‡ºé©¬çš„è¯»éŸ³ï¼š", options: ["mÄ", "mÃ¡", "mÇ", "mÃ "], a: 2, r: "é©¬æ˜¯ä¸‰å£° mÇã€‚" },
            { unitId: "u3", tag: "ç¬¬ä¸ƒè¯¾", q: "åŠ¨ç‰©å›­é‡ŒçœŸï¼ˆ  ï¼‰ã€‚", options: ["èƒ†å°", "å¼€å¿ƒ", "ç”Ÿç—…", "ä¸‹ç­"], a: 1, r: "å½¢å®¹æ„‰å¿«çš„å¿ƒæƒ…ã€‚" },
            { unitId: "u3", tag: "ç¬¬ä¸ƒè¯¾", q: "ä¸€ï¼ˆ  ï¼‰å¤§ç‰›åœ¨èµ°ã€‚", options: ["å¤´", "åª", "æ¡", "å¼ "], a: 0, r: "ä½“å‹å¤§çš„åŠ¨ç‰©ç”¨å¤´ã€‚" },
            { unitId: "u3", tag: "ç¬¬ä¸ƒè¯¾", q: "å°ç¾Šé•¿å¾—ï¼ˆ  ï¼‰å¯çˆ±ã€‚", options: ["å¾ˆ", "æŠŠ", "åƒ", "å’Œ"], a: 0, r: "ç¨‹åº¦å‰¯è¯ç”¨å¾ˆã€‚" },
            { unitId: "u3", tag: "ç¬¬ä¸ƒè¯¾", q: "å°é¸Ÿä¼šé£ï¼Œå°ç¾Šä¼šï¼ˆ  ï¼‰ã€‚", options: ["é£", "è·‘", "è¯»", "å†™"], a: 1, r: "å°ç¾Šåœ¨åœ°ä¸Šè·‘ã€‚" },
            { unitId: "u3", tag: "ç¬¬ä¸ƒè¯¾", q: "é€‰å‡ºå¼€å¿ƒçš„æ­£ç¡®æ‹¼éŸ³ï¼š", options: ["kÄi xÄ«n", "kÄi xÄ«ng", "kÇi xÄ«n", "kÃ i xÄ«n"], a: 0, r: "ç¬¬ä¸€å£° kÄiã€‚" },
            { unitId: "u3", tag: "ç¬¬ä¸ƒè¯¾", q: "è‰åœ°ä¸Šï¼ˆ  ï¼‰å¾ˆå¤šåŠ¨ç‰©ã€‚", options: ["æ˜¯", "åœ¨", "æœ‰", "å»"], a: 2, r: "è¡¨ç¤ºå­˜åœ¨çš„æœ‰ã€‚" },
            { unitId: "u3", tag: "ç¬¬ä¸ƒè¯¾", q: "å¤§é©¬åœ¨å‰é¢ï¼Œå°é©¬åœ¨ï¼ˆ  ï¼‰ã€‚", options: ["å‰", "å", "ä¸Š", "ä¸‹"], a: 1, r: "åä¹‰è¯å¯¹æ¯”ã€‚" },
            { unitId: "u3", tag: "ç¬¬ä¸ƒè¯¾", q: "é€‰å‡ºç¾Šçš„å­—å½¢ï¼š", options: ["åŠ", "å¹³", "ç¾Š", "ç¾"], a: 2, r: "è¾¨åˆ«å­—å½¢ã€‚" },
            { unitId: "u3", tag: "ç¬¬ä¸ƒè¯¾", q: "å°åŠ¨ç‰©ï¼ˆ  ï¼‰çˆ±åƒè‰ã€‚", options: ["éƒ½", "å’Œ", "åƒ", "æŠŠ"], a: 0, r: "è¡¨ç¤ºå…¨éƒ¨ç”¨éƒ½ã€‚" },
            { unitId: "u3", tag: "ç¬¬ä¸ƒè¯¾", q: "è°åœ¨å”±æ­Œï¼ˆ ï¼‰", options: ["ã€‚", "ï¼Œ", "ï¼Ÿ", "ï¼"], a: 2, r: "ç–‘é—®å¥ç”¨é—®å·ã€‚" },
            { unitId: "u4", tag: "å•å…ƒå››", q: "æˆ‘å’Œå§å§ï¼ˆ  ï¼‰çˆ±çœ‹ä¹¦ã€‚", options: ["åˆ", "éƒ½", "å¾ˆ", "æ˜¯"], a: 1, r: "æˆ‘å’Œå§å§éƒ½çˆ±ã€‚" },
            { unitId: "u4", tag: "å•å…ƒå››", q: "é€‰å‡ºæ­£ç¡®çš„å¥å·ï¼šçˆ¸çˆ¸å›å®¶äº†ï¼ˆ ï¼‰", options: [",", "â—‹", "ã€‚", "?"], a: 2, r: "æ ‡å‡†å¥å·æ˜¯å®å¿ƒã€‚" },
            { unitId: "u4", tag: "å•å…ƒå››", q: "å“¥å“¥å€’äº†ä¸€æ¯ï¼ˆ  ï¼‰ç»™å¥¶å¥¶ã€‚", options: ["è‹¹æœ", "å¼€æ°´", "ä¹¦åŒ…", "ç¬”"], a: 1, r: "å¼€æ°´å¯ä»¥å€’ã€‚" },
            { unitId: "u4", tag: "å•å…ƒå››", q: "é€‰å‡ºå§å§çš„æ‹¼éŸ³ï¼š", options: ["jiÄ› jie", "jÄ› jÄ›", "qiÄ› qie", "jiÄ› jiÃ©"], a: 0, r: "æ­£ç¡®æ‹¼éŸ³ã€‚" },
            { unitId: "u4", tag: "å•å…ƒå››", q: "æˆ‘çˆ±æˆ‘çš„ï¼ˆ  ï¼‰ã€‚", options: ["å®¶", "é—¨", "å»", "å­"], a: 0, r: "å®¶æœ€æ¸©æš–ã€‚" },
            { unitId: "u5", tag: "å•å…ƒäº”", q: "æœˆäº®åˆåœ†åˆï¼ˆ  ï¼‰ã€‚", options: ["é¦™", "ç”œ", "äº®", "ç™½"], a: 2, r: "æœˆäº®åˆåœ†åˆäº®ã€‚" },
            { unitId: "u5", tag: "å•å…ƒäº”", q: "å¤§æ ‘åƒä¸€æŠŠå¤§ï¼ˆ  ï¼‰ã€‚", options: ["é›ªçƒ", "é•œå­", "é›¨ä¼", "æœˆé¥¼"], a: 2, r: "å½¢çŠ¶åƒé›¨ä¼ã€‚" },
            { unitId: "u5", tag: "å•å…ƒäº”", q: "ä¸­ç§‹èŠ‚ï¼Œæˆ‘ä»¬è¦åƒï¼ˆ  ï¼‰ã€‚", options: ["æœˆé¥¼", "æ£‰èŠ±", "é¥¼å¹²", "è‹¹æœ"], a: 0, r: "ä¸­ç§‹ä¼ ç»Ÿã€‚" },
            { unitId: "u5", tag: "å•å…ƒäº”", q: "ç™½äº‘æ˜¯ï¼ˆ  ï¼‰è‰²çš„ã€‚", options: ["çº¢", "ç™½", "ç»¿", "é»‘"], a: 1, r: "ç™½äº‘ç™½ç™½ã€‚" },
            { unitId: "u5", tag: "å•å…ƒäº”", q: "é€‰å‡ºæœ‹å‹çš„æ‹¼éŸ³ï¼š", options: ["pÃ©ng you", "pÃ¨ng yÃ³u", "pÃ©n iou", "pÃ©n yÇ’u"], a: 0, r: "è½»å£° youã€‚" },
            { unitId: "u6", tag: "å•å…ƒå…­", q: "ä½ ï¼ˆ  ï¼‰ä»€ä¹ˆä¸å¼€å¿ƒï¼Ÿ", options: ["ä¸º", "è°", "æ ·", "æ€"], a: 0, r: "ä¸ºä»€ä¹ˆã€‚" },
            { unitId: "u6", tag: "å•å…ƒå…­", q: "é©¬è·¯æ²¡æœ‰æ‰‹ï¼Œä¹Ÿæ²¡æœ‰ï¼ˆ  ï¼‰ã€‚", options: ["ç¬”", "è„š", "å£", "ä¹¦"], a: 1, r: "é©¬è·¯æ²¡æœ‰è„šã€‚" },
            { unitId: "u6", tag: "å•å…ƒå…­", q: "é€‰å‡ºå›ç­”çš„æ‹¼éŸ³ï¼š", options: ["huÃ­ dÃ¡", "huÇ dÇ", "huÃ­ tÄ", "huÃ­ da"], a: 0, r: "å›ç­” huÃ­ dÃ¡ã€‚" },
            { unitId: "u6", tag: "å•å…ƒå…­", q: "è¿‡é©¬è·¯è¦èµ°åœ¨ï¼ˆ  ï¼‰ä¸Šã€‚", options: ["è‰åŸ", "é©¬è·¯", "æ ¡å›­", "å…¬å›­"], a: 1, r: "èµ°åœ¨é©¬è·¯ä¸Šã€‚" },
            { unitId: "u6", tag: "å•å…ƒå…­", q: "ä»–èƒ†å­å°ï¼Œï¼ˆ  ï¼‰ä¸æ•¢è‡ªå·±èµ°ã€‚", options: ["æ€»æ˜¯", "åˆ°å¤„", "æ­£åœ¨", "å·²ç»"], a: 0, r: "æ€»æ˜¯è¡¨ç¤ºç»å¸¸ã€‚" },
            { unitId: "u7", tag: "å•å…ƒä¸ƒ", q: "æˆ‘ï¼ˆ  ï¼‰ç¥ç¦é€ç»™ä½ ã€‚", options: ["å’Œ", "æŠŠ", "åƒ", "ç»™"], a: 1, r: "æŠŠå­—å¥ã€‚" },
            { unitId: "u7", tag: "å•å…ƒä¸ƒ", q: "ï¼ˆ  ï¼‰çš„åœ£è¯å¡ã€‚", options: ["æ¬¢å¿«", "ç¾ä¸½", "èƒ†å°", "æ¸©æš–"], a: 1, r: "ç¾ä¸½çš„å¡ç‰‡ã€‚" },
            { unitId: "u7", tag: "å•å…ƒä¸ƒ", q: "å“‡ï¼Œè¿™é‡ŒçœŸç¾å•Šï¼ˆ ï¼‰", options: ["ã€‚", "ï¼", "ï¼Ÿ", "ï¼Œ"], a: 1, r: "æ„Ÿå¹å¥ç”¨å¹å·ã€‚" },
            { unitId: "u7", tag: "å•å…ƒä¸ƒ", q: "æˆ‘è¦æŠŠå¡ç‰‡é€ï¼ˆ  ï¼‰è°å‘¢ï¼Ÿ", options: ["ç»™", "åˆ°", "å›", "å»"], a: 0, r: "é€ç»™ã€‚" },
            { unitId: "u7", tag: "å•å…ƒä¸ƒ", q: "é€‰å‡ºå¿«ä¹çš„è¯»éŸ³ï¼š", options: ["kuÃ i lÃ¨", "kuÃ i luÃ²", "guÃ i lÃ¨", "kuÃ i lÃ©"], a: 0, r: "å¿«ä¹ lÃ¨ã€‚" }
        ];

        let state = {
            view: 'home',
            selectedUnit: null,
            currentQuestionIdx: 0,
            score: 0,
            showResult: false,
            selectedOption: null,
            isCorrect: null,
            showHint: false
        };

        function setState(updates) {
            state = { ...state, ...updates };
            render();
        }

        function render() {
            const app = document.getElementById('app');
            if (state.view === 'home') {
                app.innerHTML = renderHome();
            } else if (state.view === 'quiz') {
                if (state.showResult) {
                    app.innerHTML = renderResult();
                } else {
                    app.innerHTML = renderQuiz();
                }
            }
        }

        function renderHome() {
            return `
                <div class="min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col items-center p-6">
                    <div class="w-full max-w-4xl mt-12">
                        <header class="text-center mb-16">
                            <h1 class="text-5xl font-black text-blue-600 mb-4">ğŸ® å°ä¸€è€ƒæŸ¥äºŒå¤ä¹ æœº</h1>
                            <p class="text-2xl text-blue-400 font-medium">å°æœ‹å‹ï¼Œå…ˆé€‰ä¸€è¯¾å¼€å§‹å­¦ä¹ å§ï¼</p>
                        </header>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                            ${units.map(unit => `
                                <button onclick="startQuiz('${unit.id}')" class="group relative bg-white rounded-3xl p-10 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 text-left overflow-hidden border-b-8 border-gray-100">
                                    <div class="text-5xl mb-6">${unit.icon}</div>
                                    <h3 class="text-2xl font-black text-gray-800 mb-2">${unit.title}</h3>
                                    <p class="text-gray-500 font-bold text-lg">${unit.subtitle}</p>
                                    <div class="mt-8 flex items-center text-blue-500 font-black">å¼€å§‹ç»ƒä¹  â†’</div>
                                </button>
                            `).join('')}
                        </div>
                    </div>
                    <div class="mt-auto py-12 flex gap-6">
                        <span class="text-4xl animate-bounce">â¤ï¸</span>
                        <span class="text-4xl animate-bounce" style="animation-delay: 0.2s">â¤ï¸</span>
                        <span class="text-4xl animate-bounce" style="animation-delay: 0.4s">â¤ï¸</span>
                    </div>
                </div>
            `;
        }

        function renderResult() {
            const unit = units.find(u => u.id === state.selectedUnit);
            const activeQuiz = allQuizData.filter(q => q.unitId === state.selectedUnit);
            return `
                <div class="min-h-screen bg-pink-50 flex flex-col items-center justify-center p-6">
                    <div class="bg-white rounded-3xl shadow-2xl p-12 max-w-md w-full border-b-4 border-pink-100 text-center">
                        <div class="text-7xl mb-8">ğŸ†</div>
                        <h2 class="text-4xl font-black text-gray-800 mb-2">ç»ƒä¹ å®Œæˆï¼</h2>
                        <p class="text-pink-500 text-xl font-bold mb-10">${unit.title}</p>
                        <div class="bg-gradient-to-br from-pink-50 to-white rounded-2xl py-10 mb-10 border-2 border-pink-100">
                            <p class="text-gray-500 mb-2 font-bold text-lg">æœ€ç»ˆå¾—åˆ†</p>
                            <div class="text-7xl font-black text-pink-500">${state.score} <span class="text-3xl text-pink-300">/ ${activeQuiz.length}</span></div>
                        </div>
                        <button onclick="startQuiz('${state.selectedUnit}')" class="w-full bg-orange-400 hover:bg-orange-500 text-white font-black py-5 rounded-2xl shadow-lg mb-4">ğŸ”„ å†è¯•ä¸€æ¬¡</button>
                        <button onclick="goHome()" class="w-full bg-white border-4 border-gray-100 hover:bg-gray-50 text-gray-400 font-black py-5 rounded-2xl">ğŸ  æ¢ä¸ªå•å…ƒ</button>
                    </div>
                </div>
            `;
        }

        function renderQuiz() {
            const activeQuiz = allQuizData.filter(q => q.unitId === state.selectedUnit);
            const currentData = activeQuiz[state.currentQuestionIdx];
            const progress = ((state.currentQuestionIdx + 1) / activeQuiz.length) * 100;

            return `
                <div class="min-h-screen bg-blue-50 p-6 md:p-12 flex flex-col items-center">
                    <div class="w-full max-w-2xl flex items-center justify-between mb-8">
                        <button onclick="goHome()" class="p-4 bg-white rounded-2xl shadow-md text-gray-400 hover:text-blue-500">â†</button>
                        <div class="bg-white px-8 py-4 rounded-3xl shadow-md flex items-center gap-6 border-b-4 border-blue-100">
                            <span class="font-black text-blue-600 text-lg">ğŸ“– ${currentData.tag}</span>
                            <div class="w-px h-6 bg-gray-200"></div>
                            <span class="font-black text-yellow-500 text-lg">â­ ${state.score}</span>
                        </div>
                        <div class="text-gray-400 font-black text-lg">${state.currentQuestionIdx + 1} / ${activeQuiz.length}</div>
                    </div>
                    <div class="w-full max-w-2xl h-5 bg-white rounded-full mb-10 overflow-hidden p-1 shadow-inner">
                        <div class="h-full bg-gradient-to-r from-blue-400 to-indigo-400 rounded-full" style="width: ${progress}%"></div>
                    </div>
                    <div class="w-full max-w-2xl bg-white rounded-3xl shadow-2xl p-10 md:p-14 mb-10 border-b-4 border-blue-100 relative">
                        <div class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-blue-500 text-white px-6 py-2 rounded-full font-black text-sm">Question</div>
                        <h2 class="text-3xl md:text-4xl font-black text-gray-800 mb-12 leading-relaxed text-center">${currentData.q}</h2>
                        <div class="grid grid-cols-1 gap-5">
                            ${currentData.options.map((option, idx) => `
                                <button onclick="handleOption(${idx})" class="p-7 rounded-2xl text-left text-2xl font-black transition-all border-4 flex items-center justify-between 
                                    ${state.selectedOption === null ? 'border-gray-50 bg-gray-50 hover:border-blue-300 hover:bg-blue-50 text-gray-700' 
                                    : idx === currentData.a ? 'border-green-400 bg-green-50 text-green-700' 
                                    : state.selectedOption === idx ? 'border-red-400 bg-red-50 text-red-700' 
                                    : 'border-gray-50 bg-gray-50 opacity-40'}">
                                    <span class="flex items-center gap-4">
                                        <span class="w-10 h-10 rounded-xl flex items-center justify-center text-sm ${state.selectedOption === idx ? 'bg-white shadow-sm' : 'bg-white/50'}">${String.fromCharCode(65 + idx)}</span>
                                        ${option}
                                    </span>
                                    ${state.selectedOption !== null && idx === currentData.a ? '<span>âœ“</span>' : ''}
                                    ${state.selectedOption === idx && idx !== currentData.a ? '<span>âœ—</span>' : ''}
                                </button>
                            `).join('')}
                        </div>
                        ${state.selectedOption !== null ? `
                            <div class="mt-10 p-8 rounded-2xl ${state.isCorrect ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                                <div class="font-black text-xl mb-2">${state.isCorrect ? 'âœ¨ å›ç­”æ­£ç¡®ï¼' : 'ğŸ’ª åˆ«ç°å¿ƒï¼Œå†åŠªåŠ›ï¼'}</div>
                                <p class="font-bold text-lg">${currentData.r}</p>
                            </div>
                        ` : ''}
                    </div>
                    <div class="w-full max-w-2xl flex justify-between items-center px-4 gap-4">
                        <button onclick="toggleHint()" class="flex items-center gap-3 font-black text-lg bg-white px-8 py-5 rounded-2xl shadow-lg border-b-4 ${state.showHint ? 'border-yellow-200 text-yellow-600' : 'border-blue-100 text-blue-500 hover:bg-blue-50'}">
                            ğŸ’¡ ${state.showHint ? currentData.hint : 'å°è´´å£«'}
                        </button>
                        <button onclick="nextQuestion()" ${state.selectedOption === null ? 'disabled' : ''} class="flex items-center gap-4 px-12 py-5 rounded-2xl font-black text-2xl shadow-xl transition-all ${state.selectedOption === null ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-orange-400 hover:bg-orange-500 text-white border-b-4 border-orange-600'}">
                            ${state.currentQuestionIdx < activeQuiz.length - 1 ? 'ä¸‹ä¸€é¢˜' : 'å®Œæˆç»ƒä¹ '} â†’
                        </button>
                    </div>
                </div>
            `;
        }

        function startQuiz(unitId) {
            const activeQuiz = allQuizData.filter(q => q.unitId === unitId);
            setState({
                view: 'quiz',
                selectedUnit: unitId,
                currentQuestionIdx: 0,
                score: 0,
                showResult: false,
                selectedOption: null,
                isCorrect: null,
                showHint: false
            });
        }

        function goHome() {
            setState({
                view: 'home',
                selectedUnit: null,
                currentQuestionIdx: 0
            });
        }

        function handleOption(idx) {
            if (state.selectedOption !== null) return;
            const activeQuiz = allQuizData.filter(q => q.unitId === state.selectedUnit);
            const correct = idx === activeQuiz[state.currentQuestionIdx].a;
            setState({
                selectedOption: idx,
                isCorrect: correct,
                score: correct ? state.score + 1 : state.score
            });
        }

        function nextQuestion() {
            const activeQuiz = allQuizData.filter(q => q.unitId === state.selectedUnit);
            if (state.currentQuestionIdx < activeQuiz.length - 1) {
                setState({
                    currentQuestionIdx: state.currentQuestionIdx + 1,
                    selectedOption: null,
                    isCorrect: null,
                    showHint: false
                });
            } else {
                setState({ showResult: true });
            }
        }

        function toggleHint() {
            setState({ showHint: !state.showHint });
        }

        render();
    </script>
</body>
</html>
